<div class="card-form">
	<div mat-dialog-title>
		<h5 class="mat-dialog-title">Assign Employee</h5>
		<hr>
	</div>
	<div *ngIf="!loading">
		<div mat-dialog-content>
			<div class="schedule-details mb-3 ms-4">
				<h5>Schedule: {{days[day]}},
					{{ convertTo12Hrs(data?.start_time) }} - 
					{{convertTo12Hrs(data?.end_time) }}
				</h5>

				<div class="ms-3 pe-3">
					<p class="mt-3 mb-3">
						<img src="/assets/images/icons/schedule.png" width="15px;" class="me-2">
						Total Hours: {{data?.total_hours}} hr/s
					</p>
					<p>
						<img src="/assets/images/icons/activity.png" width="20px;" class="me-2">
						Activity: {{data?.activity}}
					</p>
				</div>
			</div>		

            <div  *ngIf="showFilter">
            	<hr>
            	<h5 class="ms-3 ps-2">Employee Filter</h5>
            	<form [formGroup]="employeeLookupFilter">
            		<app-radio-button id="smoker"  
            			label="Smoker" 
            			[labelTop]="true"
            			formControlName="smoker" 
            			[options]="radioOptions">
            		</app-radio-button>

            		<app-dropdown id="job_type"  
            			label="Job Type"
            			placeholder="Select" 
            			formControlName="job_type" 
            			[labelTop]="true"
            			[options]="jobTypeEnum">
            		</app-dropdown>

            		<app-dropdown id="employment_type"  
            			label="Employment Type" 
            			formControlName="employment_type"
            			[options]="employementTypeOption" 
            			[info]="true"
            			[labelTop]="true"
            			[infoTitle]="'Penalty rates for employee will be calculated based on the employment type selected here.'"
            		></app-dropdown>

            		<app-dropdown id="gender"  
            			label="Gender" 
            			formControlName="gender"
            			[options]="genderOptions" 
            			[labelTop]="true"
            		></app-dropdown>

            		<app-search-list id="language"  
            			label="Language" 
            			formControlName="language"
            			[options]="languageEnum" 
            			[labelTop]="true"
            		></app-search-list>

            		<div class="ms-3 ps-2 mb-3">
            			<button class="btn btn-primary btn-header" (click)="applyFilter()"> Apply Filter</button>
            		</div>

            		<hr>
            	</form>
            </div>

            <form [formGroup]="assignEmployeeForm" >
            	<app-search-list 
            	    label="Employee"
            	    [labelTop]="true"
            	    [required]="true"
            	    formControlName="employee"
            	    [options]="employeeEnumFiltered">
            	</app-search-list>
            </form>
            
            <div class="ms-3 ps-2 mb-3" *ngIf="!showFilter">
            	<button class="btn btn-primary btn-header" (click)="applyFilter()">Add Filter</button>
            </div>       
		</div>
		<div mat-dialog-actions>
			<div class="text-center mb-3 px-0 w-100">
				<hr><br>

				<button mat-button (click)="close()" 
				class="btn btn-header-gray btn-header me-3">Close</button>

				<button mat-button (click)="save()" [disabled]="!assignEmployeeForm.valid"
				cdkFocusInitial class="btn btn-primary btn-header me-3">
                    <span *ngIf="!data; else showSave">Add</span>
                    <ng-template #showSave>Assign</ng-template>  
                </button>
			</div>
		</div>
	</div>
    <global-admin-loader 
        [withSideBar]="false"
        [fromDetailTab]="true"
        [loading]="loading">
    </global-admin-loader> 
</div> 